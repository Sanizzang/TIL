### RSA 암호란?

RSA 암호 체계는 미국 MIT에서 개발한 공개키 암호 시스템이다.

이 암호 알고리즘의 핵심은 큰 정수의 소인수 분해가 어렵다는 점을 이용하여 암호화를 시킨다.

이러한 RSA 암호 알고리즘은 전자상거래에서 가장 흔히 쓰고있는 공개키 알고리즘이다.

### RSA 암호 알고리즘 방식

1. A가 B에게 정보를 안전하게 보내고 싶어한다. 이때 RSA알고리즘을 이용하고자 한다.
2. B가 공개키와 개인키를 만들어 A에게 공개키를 보낸다. (개인키는 B만 가지고 있다.)
3. A가 B로부터 받은 공개키를 이용하여 보낼 정보를 암호화한다.
4. A가 암호화된 정보를 B에게 보낸다.
5. B가 암호화된 정보를 받고 개인키를 이용하여 암호를 해독한다.

### RSA 암호 알고리즘 원리

1. 개인키와 공개키 만들기
   RSA 암호 알고리즘 첫 단계는 공개키와 개인키를 만드는 것이다.
   공개키는 n,e라는 두 정수로 이루어져있고 개인키는 n,d라는 두 정수로 이루어져있다.

- n 구하기
  임의의 두 "소수" p와 q를 정하고 n=p\*q를 해주면 n을 구할 수 있다.

- e 구하기
  Φ(n) = (p-1)\*(q-1) 식을 이용하여 Φ(n)를 구한다.

e는 1 < e < Φ(n) 로써 1과 Φ(n) 사이에 있고 Φ(n)와 "서로소"인 e를 정해주면 된다.

이러한 e는 "공개키"에 이용이 될 것이다.

- d 구하기

(e\*d) mod Φ(n) = 1

즉, e\*d를 Φ(n)로 나누었을 때 나머지가 1인 d를 구하면 된다. 이때 d는 "개인키"에 사용될 숫자이다.

2. 암호화하기
   1번에서 구한 공개키를 이용해서 정보를 암호화한다.
   원래 정보를 M이라 하고, 암호화된 정보를 C라 하자.
   [C = M^e mod n]
   위의 식을 이용하여 M을 C로 암호화 하면 된다.

이때 암호화를 할 때 e와 n의 값을 알아야 하므로 공개키(n,e)가 있어야 암호화 할 수 있다는 것은 자명하다.

3. 복호화하기
   이제 암호화되어 온 정보 C를 복호화(해독)할 순서이다.
   1. [C = M^e mod n]
   2. [M = C^d mod n]

페르마의 소정리에 의해 1번식이 성립하면 2번식도 성립하게 된다.

암호화할 때는 1번식을 사용했으므로 복호화 할 때는 위의 식 즉, 2번식을 이용하여 복호화를 한다.

이때 암호화된 정보 C를 M으로 복호화(해독)할 때는 n과 d값을 알아야 한다.

### RSA 암호 알고리즘 안정성

공개키(n,e)를 가지고 있는 사람 C가 암호화된 정보를 중간에 빼돌렸다 생각해보자.

c는 공개키를 가지고 있으므로 공개키(n,e) 값을 알고 있다.

n=p*q이고 Φ(n)=(p-1)*(q-1)이기에 소인수분해를 통해 p,q를 구할 수 있고 Φ(n)를 구할 수 있다.

또한 (e\*d) mod Φ(n) = 1이 되는 식에서 e와 Φ(n)을 알고있으니 d도 구할 수 있게 된다.

결국 n,e,d를 모두 알게되니 복호화에 성공할 수 있다.

결국 이 암호 알고리즘은 풀린다는 의미가 된다.

우선 결론부터 말하자면 RSA 알고리즘은 개인키를 알아낼 수 없는 안정성을 갖추고 있다.

1. 큰수 소인수분해의 어려움
2. 나머지 연산의 역연산이 어려움

이 두가지 때문이다.

하지만 위의 내용에서 모순을 찾아내보자.

n=p\*q라 했는데 n은 작은 숫자일때는 p,q를 찾기가 쉬운데
n이 엄청 커지는 수라면 p와 q소수를 찾아내기 어려워지게 되고

(e \* d) mod Φ(n) = 1이 되는 식에서 e와 Φ(n)을 알고있으니 d도 구할 수 있게 된다.에서 d를 구하기에도 나머지가 1인 수가 무수히 많기 때문에 개인키에 해당하는 d를 구하기가 어렵다.

하지만 컴퓨터의 속도가 훨씬 더 빨라지거나 어떤 수든 소인수분해 하는 알고리즘이 나온다면 이 RSA 암호 알고리즘도 막을 내릴 것이다.
